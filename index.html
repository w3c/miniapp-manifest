<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>MiniApp Manifest</title>
    <link rel="stylesheet" href="./local.css" />

    <style>
    .two-cols {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    table.members {
      border: 1px #f0f0f0 solid;
      margin-bottom: 1em;
      width: 100%;
    }
    table.members th:nth-child(1),
    table.members td:nth-child(1) {
      width: 11rem;  
    }

    table.members th:nth-child(2),
    table.members td:nth-child(2) {
      width: 5rem;  
    }
    table.members thead tr,
    table.members tr:nth-child(even) {
      background-color: #f0f0f0;
    }
    td, th {
      padding:2px 15px;
    }
    </style>

    <script async class="remove" src="https://www.w3.org/Tools/respec/respec-w3c"></script>
<!-- <script defer src="https://w3c.github.io/miniapp/specs/script.js"></script> -->

    <script class="remove">
        var respecConfig = {
            specStatus: "ED",
            copyrightStart: "2021",
            edDraftURI: "https://w3c.github.io/miniapp-manifest/",

            shortName: "miniapp-manifest",

            editors: [{
                name: "Martin Alvarez-Espinar",
                companyURL: "https://www.huawei.com/",
                company: "Huawei",
                w3cid: 125049,
              }, {
               name: "Yongjing Zhang",
                companyURL: "https://www.huawei.com/",
                company: "Huawei",
                w3cid: 75048,
              }],

             formerEditors: [{
                name: "Shouren Lan",
                companyURL: "https://www.huawei.com/",
                company: "Huawei",
                w3cid: 119736,
              }, {
                name: "Zhiqiang Yu",
                companyURL: "https://www.huawei.com/",
                company: "Huawei",
                w3cid: 102877,
              }, {
                name: "Xiaofeng Zhang",
                companyURL: "https://www.huawei.com/",
                company: "Huawei",
                w3cid: 111840,
              }],

            group: "wg/miniapps",
            github: {
              repoURL: "https://github.com/w3c/miniapp-manifest",
              branch: "main",
            },
            localBiblio:  {
              "SEMANTIC-VERSIONING": {
                title: 'Semantic Versioning',
                href: 'https://semver.org/'
              },
              "MINIAPP-LIFECYCLE": {
                  title: "MiniApp Lifecycle",
                  href: "https://w3c.github.io/miniapp-lifecycle/"
              },
              "MINIAPP-PACKAGING": {
                  title: "MiniApp Packaging",
                  href: "https://w3c.github.io/miniapp-packaging/"
              },
            },
            a11y: true,
            xref: "web-platform",
        };
    </script>
</head>

<body data-cite="APPMANIFEST MINIAPP-PACKAGING MANIFEST-APP-INFO INFRA URL HTML WEBIDL">
  <section id='abstract'>
    <p>
      This specification is a registry of supplementary members for the <a href="https://www.w3.org/TR/appmanifest/">Web Application Manifest</a> and the <a href="https://www.w3.org/TR/manifest-app-info/">Web App Manifest - Application Information</a> specifications that provide additional metadata to an application manifest to describe <a href="https://w3c.github.io/miniapp-packaging/#dfn-miniapp" data-link-type="dfn">MiniApps</a>. This JSON-based manifest file enables developers to set up basic information of a MiniApp, like identification, human-readable description, versioning data, and styling information. The MiniApp manifest also configures the routing of the pages and widgets that are part of a MiniApp.
    </p>
  </section>

  <section id='sotd'>
    <!--p id="langSwitch">
      <button onclick="switchLang('zh-hans')" lang="zh-hans">简体中文</button>
      <button onclick="switchLang('en')" lang="en">English</button>
      <button onclick="switchLang('all')" lang="en">All</button>
    </p-->
  </section>
  <section>
    <h2>MiniApp Manifest</h2>
    <p>
      A <dfn data-export="" data-lt="MiniApp manifest's|manifest|MiniApp manifests">MiniApp manifest</dfn> is a [[JSON]] document that extends and profiles the Web App Manifest [[APPMANIFEST]] and the Web App Manifest - Application Information [[MANIFEST-APP-INFO]], to describe metadata associated with a MiniApp.
    </p>
    <section id="manifest-conformance" data-cite="IMAGE-RESOURCE">
      <h3>Conformance</h3>
      <p>
        A [=MiniApp manifest=] MUST contain the following members at its root:
      </p>
      <ul>
        <li>
          <a><code>app_id</code></a>
        </li>
        <li>
          <a><code>icons</code></a>
        </li>
        <li>
          <a data-link-for="MiniApp manifest" data-link-type="dfn"><code>name</code></a>
        </li>
        <li>
          <a><code>pages</code></a>
        </li>
        <li>
          <a data-link-for="MiniApp manifest" data-link-type="dfn"><code>platform_version</code></a>
        </li>
        <li>
          <a><code>version</code></a>
        </li>  
      </ul>
      <p>
          Each [=image resource=] object within the [=MiniApp manifest's=] <a><code>icons</code></a> member MUST contain:
      </p>
      <ul>
        <li>
          <a href="https://www.w3.org/TR/image-resource/#dfn-src" data-type="dfn" data-link-type="dfn"><code>src</code></a>
        </li>
      </ul>
      <p>
        A [=MiniApp manifest=] MAY contain a <a><code>widgets</code></a> member at its root. This member MUST contain an array ([=list=]) of <a>MiniApp widget resources</a>. Each [=MiniApp widget resource=] object MUST contain the following members:
      </p>
      <ul>
        <li>
         <a data-link-for="MiniApp widget resource" data-link-type="dfn"><code>name</code></a>
        </li>
        <li>
         <a><code>path</code></a>
        </li>
      </ul>
      <p>
        A [=MiniApp manifest=] MAY contain a <a><code>req_permissions</code></a> member at its root. This member MUST contain an array ([=list=]) of <a>MiniApp permission resources</a>. Each [=MiniApp permission resource=] object MUST contain the following member:
      </p>
      <ul>
        <li>
         <a data-link-for="MiniApp permission resource" data-link-type="dfn"><code>name</code></a>
        </li>
      </ul>
      <p>MiniApp user agents MAY implement vendor-specific extensions of the [=manifest=], supporting optional members.</p>   
    </section>

    <section data-cite="IMAGE-RESOURCE">
      <h3>Summary of Members</h3>
      <p>
        The following table shows a summary of the [=MiniApp manifest's=] members:
      </p>
      <table class="members">
        <caption>Members at root</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a><code>app_id</code></a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>MiniApp identifier</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>color_scheme</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>MiniApp color scheme</span>
            </td>
          </tr>		
          <tr>
            <th scope="row"><a><code>description</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>MiniApp description</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>device_type</code></a></th>
            <td> [=list=] </td>
            <td>No</td>
            <td>
              <span>Supporting devices</span>
            </td>
          </tr> 		
          <tr>
            <th scope="row"><a><code>dir</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Direction of texts</span>
            </td>
          </tr>
          <tr data-cite="IMAGE-RESOURCE">
            <th scope="row"><a><code>icons</code></a></th>
            <td> [=image resource=] [=list=] </td>
            <td>Yes</td>
            <td>
              <span>MiniApp icons</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>lang</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>MiniApp primary language</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp manifest" data-link-type="dfn"><code>name</code></a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>MiniApp name</span>
            </td>
          </tr>          
          <tr>
            <th scope="row"><a><code>pages</code></a></th>
            <td> [=list=] </td>
            <td>Yes</td>
            <td>
              <span>Page routing information</span>
            </td>
          </tr>          
          <tr>
            <th scope="row"><a data-link-for="MiniApp manifest" data-link-type="dfn"><code>platform_version</code></a></th>
            <td> <a>platform version resource</a> </td>
			      <td>Yes</td>
            <td>
              <span>Platform version supported</span>
            </td>
          </tr>
          <tr>
              <th scope="row"><a><code>req_permissions</code></a></th>              
              <td> <a>permission resource</a> [=list=] </td>
              <td>No</td>
              <td> <span>Required permissions</span></td>
          </tr>          
          <tr>
            <th scope="row"><a><code>short_name</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>MiniApp short name</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>version</code></a></th>
            <td> <a>version resource</a> </td>
            <td>Yes</td>
            <td>
              <span>MiniApp version</span>
            </td>
          </tr>          

          <tr>
            <th scope="row"><a><code>widgets</code></a></th>
            <td> <a>widget resource</a> [=list=] </td>
            <td>No</td>
            <td> <span>MiniApp widgets</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>window</code></a></th>
            <td> <a>window resource</a> </td>
            <td>No</td>
            <td>
              <span>Window style</span>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=image resource=] objects<br/>(<a><code>icons</code></a> [=list=])</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a href="https://www.w3.org/TR/image-resource/#dfn-label" data-link-type="dfn"><code>label</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Accessible text</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a href="https://www.w3.org/TR/image-resource/#dfn-sizes" data-type="dfn" data-link-type="dfn"><code>sizes</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Resolution sizes of an icon</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a href="https://www.w3.org/TR/image-resource/#dfn-src" data-type="dfn" data-link-type="dfn"><code>src</code></a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Source of an icon</span>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=platform version resource=] objects<br/>(<a><code>platform_version</code></a> [=ordered map=])</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a data-link-for="MiniApp platform version resource" data-link-type="dfn"><code>min_code</code></a></th>
            <td> number  </td>
            <td>Yes</td>
            <td>
                <span>Minimum platform version supported</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp platform version resource" data-link-type="dfn"><code>release_type</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Target platform version type</span>
            </td>
          </tr>          
          <tr>
            <th scope="row"><a data-link-for="MiniApp platform version resource" data-link-type="dfn"><code>target_code</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Target platform version code</span>
            </td>
          </tr>	  
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=permission resource=] objects<br/>(<a><code>req_permissions</code></a> [=list=])</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a data-link-for="MiniApp permission resource" data-link-type="dfn"><code>name</code></a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
                <span>Permission name</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>reason</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
                <span>Reason to request the permission</span>
            </td>
          </tr>          
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=version resource=] objects<br/>(<a><code>version</code></a> [=ordered map=])</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a data-link-for="MiniApp version resource" data-link-type="dfn"><code>code</code></a></th>
            <td> number  </td>
            <td>Yes</td>
            <td>
                <span>Version code</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp version resource" data-link-type="dfn"><code>name</code></a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Version name</span>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=widget resource=] objects<br/>(<a><code>widgets</code></a> [=list=])</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a data-link-for="MiniApp widget resource" data-link-type="dfn"><code>min_code</code></a></th>
            <td> number </td>
            <td>No</td>
            <td>
              <span>Minimum platform version supported</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp widget resource" data-link-type="dfn"><code>name</code></a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Widget name</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>path</code></a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Widget path</span>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=window resource=] objects<br/>(<a><code>window</code></a> [=ordered map=])</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a><code>auto_design_width</code></a></th>
            <td> [=boolean=]  </td>
            <td>No</td>
            <td>
                <span>Enables/disables auto-calculation of page's <a><code>design_width</code></a> </span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp window resource" data-link-type="dfn"><code>background_color</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Window background color</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>background_text_style</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Background text style</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>design_width</code></a></th>
            <td> number  </td>
            <td>No</td>
            <td>
                <span>The baseline page design width</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>enable_pull_down_refresh</code></a></th>
            <td> [=boolean=] </td>
            <td>No</td>
            <td>
              <span>Enable pull-to-refresh event</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>fullscreen</code></a></th>
            <td> [=boolean=]  </td>
            <td>No</td>
            <td>
              <span>Full screen display</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>navigation_bar_background_color</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Navigation bar background color</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>navigation_bar_text_style</code></a></th>
            <td> [=string=]  </td>
            <td>No</td>
            <td>
              <span>Text style of the navigation bar</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>navigation_bar_title_text</code></a></th>
            <td> [=string=]  </td>
            <td>No</td>
            <td>
              <span>Navigation bar title</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>navigation_style</code></a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Navigation bar style</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>on_reach_bottom_distance</code></a></th>
            <td> number </td>
            <td>No</td>
            <td>
              <span>Distance for pull-up bottom event triggering</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a><code>orientation</code></a></th>
            <td> [=string=]  </td>
            <td>No</td>
            <td>
              <span>Screen orientation settings</span>
            </td>
          </tr>
        </tbody>
      </table>




      <p class="note">
      Other [=application manifest=] members such as <a href="https://www.w3.org/TR/appmanifest/#scope-member"><code>scope</code></a>,
        <a href="https://www.w3.org/TR/appmanifest/#theme_color-member"><code>theme_color</code></a>,
        <a href="https://www.w3.org/TR/appmanifest/#related_applications-member"><code>related_applications</code></a>,
        <a href="https://www.w3.org/TR/appmanifest/#prefer_related_applications-member"><code>prefer_related_applications</code></a>, and
        <a href="https://www.w3.org/TR/appmanifest/#shortcuts-member"><code>shortcuts</code></a> are not currently supported by MiniApp user agents.
      </p>
    </section>

    <section class='informative' id="sec-example">
      <h2>Example</h2>
      <p>
        The following code represents a [=MiniApp manifest=] example:   
      </p>

      <pre class="example json" title="Manifest document">
        {
          "dir": "ltr",
          "lang": "en-US",
          "app_id": "org.example.miniapp",
          "name": "MiniApp Demo",
          "short_name": "MiniApp",
          "version": {
            "name": "1.0.1",
            "code": 11
          },
          "description": "A Simple MiniApp Demo",
          "icons": [
            {
              "label": "Red lightning",
              "src": "common/icons/icon.png",
              "sizes": "48x48"
            }
          ],
          "platform_version":{
            "min_code": 1,
            "release_type": "Beta1",
            "target_code": 2
          },
          "pages": [
            "pages/index/index",
            "pages/detail/detail"
          ],
          "window": {
            "background_color": "#ffffff",
            "fullscreen": false,            
            "navigation_bar_text_style": "black",
            "navigation_bar_title_text": "My MiniApp",
            "navigation_bar_background_color": "#f8f8f8"
          },
          "widgets": [
            {
              "name": "widget",
              "min_code": "2",
              "path": "widgets/index/index"
            }
          ],
          "req_permissions": [
            {
              "name": "system.permission.LOCATION",
              "reason": "To show user's position on the map"
            },
            {
              "name": "system.permission.CAMERA",
              "reason": "To scan a QR code"
            }
          ],
          "color_scheme": "light",
          "device_type": [
             "phone",
             "tv",
             "car"
          ]		  
        }
      </pre>
    </section>

    <section id='webappmanifest-members'>
      <h2>Web Application Manifest members</h2>
      <p>The [=MiniApp manifest=] uses the following essential [=application manifest=]'s members.</p>      
      <section>
        <h3><code>dir</code> member</h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>dir</code></dfn> member, while specifying the base direction of the <a>localizable members</a> of the [=manifest=], also specifies
          the default base text direction of the whole MiniApp.</p> 
        <p>The <a><code>dir</code></a> member's value can be set to one of the <a href="https://www.w3.org/TR/appmanifest/#dfn-text-directions">text-directions</a> as specified in [[APPMANIFEST]]. The text-direction values are the following:</p>
        <dl>
          <dt><a href="https://www.w3.org/TR/appmanifest/#dfn-ltr" data-type="dfn" data-link-type="dfn"><code>"ltr"</code></a></dt>
          <dd>Left-to-right text.</dd>
          <dt><a href="https://www.w3.org/TR/appmanifest/#dfn-rtl" data-type="dfn" data-link-type="dfn"><code>"rtl"</code></a></dt>
          <dd>Right-to-left text.</dd>
          <dt><a href="https://www.w3.org/TR/appmanifest/#dfn-auto" data-type="dfn" data-link-type="dfn"><code>"auto"</code></a> (default)</dt>
          <dd>No explicit directionality.</dd>
        </dl>
        <p class="note" title="Processing the `dir` member">
          When [=processing a MiniApp manifest=], the <a href="https://www.w3.org/TR/appmanifest/#dfn-process-the-dir-member" data-link-type="dfn">process the <code>dir</code> member</a> algorithm is used to process the <code>dir</code> member, according to the [[APPMANIFEST]] specification.
        </p>
      </section>
      <section data-cite="IMAGE-RESOURCE HTML">
        <h3>
          <span><code>icons</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>icons</code></dfn> member describes images that serve as iconic representations of MiniApps. This member is a [=list=] of [=image resource=] [=ordered maps=].
        </p>
        <p>As specified in [[IMAGE-RESOURCE]], an [=image resource=] consists of:</p>
        <dl>
        <dt>
          <dt><a href="https://www.w3.org/TR/image-resource/#dfn-label" data-link-type="dfn"><code>label</code></a></dt>
          <dd>
            An optional [=string=] representing the accessible name of the image.
          </dd>
          <dt><a href="https://www.w3.org/TR/image-resource/#dfn-sizes" data-type="dfn" data-link-type="dfn"><code>sizes</code></a></dt>
          <dd>
            An optional [=string=] representing the sizes of the image, expressed using the same syntax as [^link^]'s [^link/sizes^] attribute.
          </dd>
          <dt><a href="https://www.w3.org/TR/image-resource/#dfn-src" data-type="dfn" data-link-type="dfn"><code>src</code></a></dt>
          <dd>A <a data-link-type="dfn" data-type="dfn" href="https://url.spec.whatwg.org/#concept-url">URL</a> from where to obtain the image data.</dd>
        </dl>
        <p class="note" title="Processing the `icons` member">
          When [=processing a MiniApp manifest=], the <a href="https://www.w3.org/TR/appmanifest/#dfn-process-image-resources" data-link-type="dfn">process image resources</a> algorithm is used to process the <code>icons</code> member, according to the [[APPMANIFEST]] specification.
        </p>
        <p class="note" title="Accessibility considerations">
          Developers are strongly encouraged to add a `label` unless the [=image resource=]’s accessible name can be inferred from an external label in its context.
        </p>
      </section>      
      <section>
        <h3>
          <span><code>lang</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>lang</code></dfn> member, while specifying the primary language of the <a>localizable members</a>, also specifies
          the primary language of the whole MiniApp. This member is a [=string=] in the form of a <a href="https://www.w3.org/TR/appmanifest/#dfn-language-tag" data-link-type="dfn">language tag</a>, a string that matches the production of a <code>Language-Tag</code> [[BCP47]], as defined in [[APPMANIFEST]].
        </p>
        <p class="note" title="Processing the `lang` member">
          When [=processing a MiniApp manifest=], the <a href="https://www.w3.org/TR/appmanifest/#dfn-process-the-lang-member" data-link-type="dfn">process the <code>lang</code> member</a> algorithm is used to process the <code>lang</code> member, according to the [[APPMANIFEST]] specification.
        </p>           
      </section>
      <section>
        <h3>
          <span><code>name</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn data-dfn-for="MiniApp manifest"><code>name</code></dfn> member is the descriptive name of the application. This is the name directly displayed to the user. It is used as the display name of MiniApp along with the desktop icon and in the context of MiniApp management. 
        </p>
        <p class="note" title="Processing the `name` member">
          When [=processing a MiniApp manifest=], the <a href="https://www.w3.org/TR/appmanifest/#dfn-process-a-text-member" data-link-type="dfn">process a text member</a> algorithm is used to process the <code>name</code> member, according to the [[APPMANIFEST]] specification.
        </p>
      </section>
      <section>
        <h3>
          <span><code>short_name</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>short_name</code></dfn> member provides a concise and easy-to-read name for a MiniApp. It can be used when there is insufficient space to display the full MiniApp name provided in <a data-link-for="MiniApp manifest" data-link-type="dfn"><code>name</code></a>.
        </p>
        <p class="note" title="Processing the `short_name` member">
          When [=processing a MiniApp manifest=], the <a href="https://www.w3.org/TR/appmanifest/#dfn-process-a-text-member" data-link-type="dfn">process a text member</a> algorithm is used to process the <code>short_name</code> member, according to the [[APPMANIFEST]] specification.
        </p>        
      </section>
    </section>

    <section id='webappmanifest-app-info-members' data-cite='MANIFEST-APP-INFO'>
      <h2>Application Information members</h2>
      <p>
        The following member is defined in the Web App Manifest - Application Information specification [[MANIFEST-APP-INFO]].
      </p>
      <section>
        <h3>
          <span><code>description</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>description</code></dfn> member provides a textual description for the MiniApp representing the purpose of the web application in natural language, as defined in [[MANIFEST-APP-INFO]]
        </p>
        <p>
          To <dfn>process the <code>description</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["description"] is not a [=string=], return.</li>
          <li>Set |manifest|["description"] to |json|["description"].</li>
        </ol>
      </section>
    </section>
      
    <section id='supplementary-manifest-members' data-cite="MINIAPP-PACKAGING">
      <h2>Supplementary members</h2>
      <p>
        The following members are defined under the scope of the [=MiniApp manifest=], addressing specific aspects of MiniApp.
      </p>
      <section>
        <h3>
          <span><code>app_id</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>app_id</code></dfn> member is a [=string=] that identifies the MiniApp univocally. This member is mainly used for package management, and it supports the update and release process of MiniApp versioning.
        </p>
        <p>
          The format of <a><code>app_id</code></a> is RECOMMENDED to be a [=string=] defined by the following rule:
        </p>
        <pre class="abnf">
          appIdRule = name *("." name)
          name = ALPHA [*( ALPHA / DIGIT / "-" ) ( ALPHA / DIGIT)]
        </pre>
        <p class="note" title='Usage'>
              One common practice is to use the reverse-domain-name-like convention (e.g., <code>org.example.miniapp</code>).
        </p>
        <p>
          To <dfn>process the <code>app_id</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["app_id"] does not [=map/exist=], or if |json|["app_id"] is not a [=string=], return.</li>
          <li>Set |manifest|["app_id"] to |json|["app_id"].</li>
        </ol>        
      </section>
	  
      <section>
        <h3>
          <span><code>color_scheme</code> member</span>
        </h3>
        <p>
          The optional [=MiniApp manifest's=] <dfn><code>color_scheme</code></dfn> member is a [=string=] that indicates the preferred color scheme of a MiniApp, overriding other configuration members of the <a>window resource</a> object, including <a data-link-for="MiniApp window resource" data-link-type="dfn"><code>background_color</code></a>, <a><code>background_text_style</code></a>, <a><code>navigation_bar_text_style</code></a>, and <a><code>navigation_bar_title_text</code></a>.
        </p>
        <p>
          This member MUST contain one of the following <dfn>color scheme values</dfn>:  
        </p>
        <dl>
          <dt><dfn data-dfn-for="color_scheme"><code>"auto"</code></dfn></dt>
          <dd>The theme color is adapted to the system theme color.</dd>
          <dt><dfn data-dfn-for="color_scheme"><code>"light"</code></dfn></dt>
          <dd>For a light color scheme.</dd>
          <dt><dfn data-dfn-for="color_scheme"><code>"dark"</code></dfn></dt>
          <dd>For a dark color scheme.</dd>
        </dl>
        <p class="note" title='Usage' data-cite="MEDIAQUERIES-5">
          MiniApp user agents MAY implement pre-defined styling resources, such as background colors, cover images, and icons for each color scheme. Also, developers MAY define customized stylesheets for each mode, using the <a data-xref-type="css-descriptor" data-xref-for="@media">prefers-color-scheme</a> CSS media feature [[MEDIAQUERIES-5]].
        </p>
        <p>
          To <dfn>process the <code>color_scheme</code> member</dfn>, given [=ordered map=] |json:JSON| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["color_scheme"] does not [=map/exist=],<br>
            or if |json|["color_scheme"] is not a [=string=], <br>
            or if |json|["color_scheme"] doesn't match one of the [=color scheme values=], return.</li>
          <li>Set |manifest|["color_scheme"] to |json|["color_scheme"].</li>
        </ol>
      </section>
      <section>
        <h3>
          <span><code>device_type</code> member</span>
        </h3>
        <p>
          The optional [=MiniApp manifest's=] <dfn><code>device_type</code></dfn> member is a [=list=] of [=strings=] that indicates the type of devices on which the MiniApp is intended to run. The values of this member inform user agents if the MiniApp has been designed to properly run on specific platforms like smartphones, smart TVs, car head units, wearables, and other devices.
        </p>
        <p>
          This member is used for device compatibility verification during the initialization process. By checking its value, the user agent decides if the MiniApp is suitable to be run on the platform in terms of compatibility of UI components, CSS support, and APIs. MiniApp user agents decide how to implement the platform's behavior if the verification process fails (e.g., stopping the initialization phase and refusing the installation or installing the MiniApp but rejecting the execution). 
        </p>
        <p class="note" title='Usage'>
         The list of possible values of the member is not specified in this document, enabling flexibility in the implementation and considering any device and use case. Some of the common values are: <code>smartphone</code>, <code>tablet</code>, <code>tv</code>, <code>car</code>, <code>wearable</code>, and <code>iot</code>.
        </p>
        <p>
          To <dfn>process the <code>device_type</code> member</dfn>, given [=ordered map=] |json:JSON| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["device_type"] does not [=map/exist=], or if |json|["device_type"] is not a [=list=], return.</li>
          <li>Let |device_type:list| be a new empty [=list=].</li>
          <li>[=list/For each=] |item:string| of |json|["device_type"]:
            <ol>
              <li>If |item| is not a [=string=], return.</li>             
              <li>[=list/Append=] |item| to |device_type|.</li>
            </ol>
          </li>
          <li>Set |manifest|["device_type"] to |device_type|.</li>
        </ol>        
      </section>
      <section>
        <h3>
          <span><code>pages</code> member</span>
        </h3>
        <p>
            The [=MiniApp manifest's=] <dfn><code>pages</code></dfn> member is a [=list=] of [=relative-url string=] used for specifying the collection of pages that are part of a MiniApp. Each item in the [=list=] represents a page identified by its [=page route=].
        </p> 
        <p>
          A <dfn data-lt="route|page route|page routes">MiniApp page route</dfn> is the relative path and filename of a <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-page">MiniApp page</a>. When configuring the [=page routes=], developers MAY omit the extension of the file that defines the main component of the <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-page">page</a> (e.g., <samp>pages/mypage</samp> or <samp>pages/mypage.html</samp>).
        </p>
        <p>
          The first item in the <a><code>pages</code></a> [=list=] defines the homepage or entry point of a MiniApp.
        </p>
        <div class="note" title="Usage">
          <p>
            For compatibility with the Web platform, it is RECOMMENDED to use <a><code>pages</code></a> along with the Web application manifest's <a href="https://www.w3.org/TR/appmanifest/#start_url-member" data-link-type="dfn"><code>start_url</code></a> and <a href="https://www.w3.org/TR/appmanifest/#scope-member" data-link-type="dfn"><code>scope</code></a> members. These members will be set with the following values:
          </p>
          <ul>
            <li><a href="https://www.w3.org/TR/appmanifest/#start_url-member" data-link-type="dfn">start_url</a> SHOULD be set with the same value of the first item in the <a><code>pages</code></a> member; and</li>
            <li><a href="https://www.w3.org/TR/appmanifest/#scope-member" data-link-type="dfn">scope</a> SHOULD be set with the value <code>"."</code>.</li>
          </ul>
        </div>
        <p>
          To <dfn>process the <code>pages</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["pages"] does not [=map/exist=], or if |json|["pages"] is not a [=list=], return.</li>
          <li>Let |pages| be a new [=list=].</li>
          <li>[=list/For each=] |item:string| of |json|["pages"]:
            <ol>
              <li>If |item| is not a [=string=], return.</li>
              <li>Let |url:URL| be the result of [=URL Parser|parsing=] |item|.</li>
              <li>If |url| is failure, [=iteration/continue=].</li>
              <li>[=list/Append=] |pages| to |url|.</li>
            </ol>
          </li>
          <li>Set |manifest|["pages"] to |pages|.</li>
        </ol>        
      </section>
      <section>
        <h3>
          <span><code>platform_version</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>platform_version</code></dfn> member contains a <a>MiniApp platform version resource</a> [=ordered map=] for describing the minimum requirements and intended platform version to run a MiniApp, including <a data-link-for="MiniApp platform version resource" data-link-type="dfn"><code>min_code</code></a>, <a data-link-for="MiniApp platform version resource" data-link-type="dfn"><code>target_code</code></a>, and <a data-link-for="MiniApp platform version resource" data-link-type="dfn"><code>release_type</code></a>.
        </p>
        <p>
          To <dfn>process the <code>platform_version</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["platform_version"] does not [=map/exist=], or if |json|["platform_version"] is not an [=ordered map=], return.</li>
          <li>Let |platform_version:ordered map| be a new [=ordered map=].</li>
          <li><a>Process the platform version's <code>min_code</code> member</a> passing |json|["platform_version"] and |platform_version|.</li>
          <li><a>Process the platform version's <code>target_code</code> member</a> passing |json|["platform_version"] and |platform_version|.</li>         
          <li><a>Process the platform version's <code>release_type</code> member</a> passing |json|["platform_version"] and |platform_version|.</li> 
          <li>If |platform_version|["min_code"] does not [=map/exist=], return failure.</li>  		  
		      <li>Set |manifest|["platform_version"] to |platform_version|.</li>
        </ol>
      </section>      
      <section>
        <h3>
          <span><code>req_permissions</code> member</span>
        </h3>
        <p>
            The optional [=MiniApp manifest's=] <dfn><code>req_permissions</code></dfn> member is a [=list=] of [=MiniApp permission resources=] [=ordered map=].
        </p> 
        <p> 
          Each <a>MiniApp permission resource</a> declares a request for using a concrete system feature (e.g., access to device's location, user contacts, sensors, and camera) required for the proper execution of a MiniApp.
        </p>
        <p>
          To <dfn>process the <code>req_permissions</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["req_permissions"] does not [=map/exist=], or if |json|["req_permissions"] is not a [=list=], return.</li>
          <li>Let |permissions:list| be a new [=list=].</li>
          <li>[=list/For each=] |item:ordered map| of |json|["req_permissions"]:
            <ol>
              <li>If |item| is not an [=ordered map=], [=iteration/continue=].</li>
              <li>Let |permission:ordered map| be an [=ordered map=].</li>
              <li><a>Process the permission resource's <code>name</code> member</a> passing |item| and |permission|.</li>
              <li>If |permission|["name"] does not [=map/exist=], [=iteration/continue=].</li>
              <li><a>Process the permission resource's <code>reason</code> member</a> passing |item| and |permission|.</li>
              <li>[=list/Append=] |permission| to |permissions|.</li>
            </ol>
          </li>
          <li>Set |manifest|["req_permissions"] to |permissions|.</li>
        </ol>        
        <p class="note" title="Protection of user's privacy">
          User agents will ask for the user's consent to protect their privacy during access to these specific features. This information in the <a><code>req_permissions</code></a> member may be used by app stores or hosting platforms to filter MiniApps according to the user's preferences, privacy policy, or device capabilities. 
        </p>
      </section> 

      <section>
        <h3>
          <span><code>version</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn><code>version</code></dfn> member contains a <a>MiniApp version resource</a> [=ordered map=] to represent the <dfn><code>code</code></dfn> and <dfn><code>name</code></dfn>.
        </p>
        <p>
          To <dfn>process the <code>version</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["version"] does not [=map/exist=], or if |json|["version"] is not [=ordered map=], return.</li>
          <li>Let |version:ordered map| be a new [=ordered map=].</li>
          <li><a>Process the version's <code>code</code> member</a> passing |json|["version"] and |version|.</li>
          <li><a>Process the version's <code>name</code> member</a> passing |json|["version"] and |version|.</li>          
    		  <li>Set |manifest|["version"] to |version|.</li>
        </ol>             
      </section>
	  

      <section>
        <h3>
          <span><code>widgets</code> member</span>
        </h3>
        <p>
            The optional [=MiniApp manifest's=] <dfn><code>widgets</code></dfn> member is a [=list=] of [=MiniApp widget resources=] that are a part of a MiniApp.
        </p>
        <p>
            A <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-package">MiniApp Package</a> MAY include <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-page">MiniApp pages</a> and Widgets concurrently.
        </p> 
        <p>
            A widget, as part of a MiniApp, applies some of the members of the [=MiniApp manifest=], including:
        </p> 
        <ul>
          <li><a><code>dir</code></a>;</li>
          <li><a><code>lang</code></a>;</li>
          <li><a><code>app_id</code></a>;</li>
          <li><a data-link-for="MiniApp manifest" data-link-type="dfn"><code>name</code></a>;</li>
          <li><a><code>short_name</code></a>;</li>
          <li><a><code>icons</code></a>;</li>
          <li><a><code>version</code></a></li>
        </ul>
        <p>
          However, a widget also has its exclusive fields as defined in the <a>MiniApp widget resource</a>.
        </p>
        <p>
          To <dfn>process the <code>widgets</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["widgets"] does not [=map/exist=], or if |json|["widgets"] is not a [=list=], return.</li>
          <li>Let |widgets:list| be a new empty [=list=].</li>
          <li>[=list/For each=] |item:ordered map| of |json|["widgets"]:
            <ol>
              <li>If |item| is not an [=ordered map=], [=iteration/continue=].</li>
              <li>Let |widget:ordered map| be an [=ordered map=].</li>
              <li><a>Process the widget's <code>name</code> member</a> passing |item| and |widget|.</li>
              <li><a>Process the widget's <code>path</code> member</a> passing |item| and |widget|.</li>
              <li><a>Process the widget's <code>min_code</code> member</a> passing |item|, |manifest|, and |widget|.</li>
              <li>If |widget|["name"] does not [=map/exist=], or if |item|["path"] does not [=map/exist=], [=iteration/continue=].</li>              
              <li>[=list/Append=] |widget| to |widgets|.</li>
            </ol>
          </li>
          <li>Set |manifest|["widgets"] to |widgets|.</li>
        </ol>        
      </section>      
      <section>
        <h3>
          <span><code>window</code> member</span>
        </h3>
        <p>
          The optional [=MiniApp manifest's=] <dfn><code>window</code></dfn> member contains a <a>MiniApp window resource</a> [=ordered map=] to describe the look and feel of a MiniApp frame, including the styles of the status bar, navigation bar, title, background colors, among other visual configuration elements.
        </p>
        <p>
            The <a><code>window</code></a> object members inherit the text direction and language configuration from the <a><code>dir</code></a> and <a><code>lang</code></a> members at the root of the [=MiniApp manifest=].
        </p>
        <p>
          To <dfn>process the <code>window</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["window"] does not [=map/exist=], or if |json|["window"] is not an [=ordered map=], return.</li>
          <li>Let |window:ordered map| be a new [=ordered map=] «[ "auto_design_width" → false, "background_color" → "#ffffff", "background_text_style" → "dark", "design_width" → 750, "enable_pull_down_refresh" → false, "fullscreen" → "false", "navigation_bar_background_color" → "#000000", "navigation_bar_text_style" → "white", "navigation_bar_title_text" → "default", "on_reach_bottom_distance" → 50, "orientation" → "portrait" ]».</li>
          <li><a>Process the window's <code>auto_design_width</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a href="https://www.w3.org/TR/appmanifest/#dfn-process-a-color-member" data-link-type="dfn">Process a color member</a> passing |json|["window"], |window| and "background_color".</li>
          <li><a>Process the window's <code>design_width</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a>Process the window's <code>enable_pull_down_refresh</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a>Process the window's <code>fullscreen</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a href="https://www.w3.org/TR/appmanifest/#dfn-process-a-color-member" data-link-type="dfn">Process a color member</a> passing |json|["window"], |window| and "navigation_bar_background_color".</li>
          <li><a>Process the window's <code>navigation_bar_text_style</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a>Process the window's <code>navigation_bar_title_text</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a>Process the window's <code>on_reach_bottom_distance</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a>Process the window's <code>orientation</code> member</a> passing |json|["window"] and |window|.</li>
          <li><a>Process the window's <code>auto_design_width</code> member</a> passing |json|["window"] and |window|.</li>
          <li>Set |manifest|["window"] to |window|.</li>
        </ol>             
      </section>
    </section>
    <section id="processing" data-cite="APPMANIFEST">
      <h3>Processing the manifest</h3>
      <p>
        The MiniApp manifest, as an extension of the [=Application manifest=], provides a supplementary algorithm to be processed at the <a href="https://www.w3.org/TR/appmanifest/#dfn-extension-point" data-link-type="dfn">extension point</a> of the <a href="https://www.w3.org/TR/appmanifest/#dfn-processing-a-manifest" data-link-type="dfn">processing a manifest</a> algorithm defined in [[APPMANIFEST]]. Thus, the user agent starts by processing the [=Application manifest=]'s members and, at the extension point, continues with processing the MiniApp manifest members using the following algorithm.     
      </p>
      <p>
        To <dfn data-lt="processing a MiniApp manifest">process a MiniApp manifest</dfn> at the extension point, given [=ordered map=] |json:ordered map| and [=ordered map=] |manifest:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |manifest|["name"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>
        <li>If |manifest|["icons"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>
        <li>Let |icons:ordered map| be |manifest|["icons"].</li>
        <li>If |icons|["src"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>
        <li>If |manifest|["icons"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>        
        <li><a>Process the <code>app_id</code> member</a> passing |json| and |manifest|.</li>
        <li>If |manifest|["app_id"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>
        <li><a>Process the <code>color_scheme</code> member</a> passing |json| and |manifest|.</li>	
        <li><a>Process the <code>description</code> member</a> passing |json| and |manifest|.</li>
        <li><a>Process the <code>device_type</code> member</a> passing |json| and |manifest|.</li>			
        <li><a>Process the <code>pages</code> member</a> passing |json| and |manifest|.</li>
        <li>If |manifest|["pages"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>
        <li><a>Process the <code>platform_version</code> member</a> passing |json| and |manifest|.</li>
        <li>If |manifest|["platform_version"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>
        <li><a>Process the <code>req_permissions</code> member</a> passing |json| and |manifest|.</li>
        <li><a>Process the <code>version</code> member</a> passing |json| and |manifest|.</li>
        <li>If |manifest|["version"] does not [=map/exist=], [=exception/throw=] a {{TypeError}}.</li>
        <li><a>Process the <code>widgets</code> member</a> passing |json| and |manifest|.</li>
        <li><a>Process the <code>window</code> member</a> passing |json| and |manifest|.</li>
      </ol>      
    </section>
  </section>

  <section id="sec-platform-version-resources">
    <h2>MiniApp platform version resources</h2>
    <p>
      A <dfn data-lt="platform version resource|MiniApp platform version resources|MiniApp platform version resource's">MiniApp platform version resource</dfn> is an [=ordered map=] that indicates the minimum and target platform versions to be used by the MiniApp.
    </p>
    <p>
      The following members are defined under the scope of the [=MiniApp manifest=], addressing specific aspects of a [=platform version resource=].
    </p>
    <section id="version-min-code">
      <h3><code>min_code</code> member</h3>
        <p>
          The [=MiniApp platform version resource's=] <dfn data-dfn-for="MiniApp platform version resource"><code>min_code</code></dfn> member is a non-negative integer number that indicates the minimum supported version of the MiniApp user agent's platform to ensure the regular operation of a MiniApp.
        </p>      
        <p>
          To <dfn>process the platform version's <code>min_code</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |platform_version:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["min_code"] does not [=map/exist=], or if |json|["min_code"] is not a number, return failure.</li>
          <li>Set |platform_version|["min_code"] to |json|["min_code"].</li>
        </ol>                 
    </section>
    <section>
      <h3><code>release_type</code> member</h3>
        <p>
          The [=MiniApp platform version resource's=] <dfn data-dfn-for="MiniApp platform version resource"><code>release_type</code></dfn> member is a [=string=] that indicates the release type of the MiniApp user agent's target platform version that is required for running an application.
        </p>
        <p class="note" title='Usage'>
           MiniApp vendors may recommend specific versioning schemes and values for this member (e.g., <code>CanaryN</code>, <code>BetaN</code>, or <code>Release</code>, where N represents a positive integer, such as <samp>Beta1</samp>).
        </p>        
        <p>
          To <dfn>process the platform version's <code>release_type</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |platform_version:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["release_type"] does not [=map/exist=], or if |json|["release_type"] is not a [=string=], return.</li>
          <li>Set |platform_version|["release_type"] to |json|["release_type"].</li>
        </ol>                 
    </section>    
    <section>
      <h3><code>target_code</code> member</h3>
        <p>
          The [=MiniApp platform version resource's=] <dfn data-dfn-for="MiniApp platform version resource"><code>target_code</code></dfn> member is a non-negative integer number that indicates the target supported version of the MiniApp user agent's platform to ensure the regular operation of a MiniApp.
        </p>
        <p>
          To <dfn>process the platform version's <code>target_code</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |platform_version:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["target_code"] does not [=map/exist=], or if |json|["target_code"] is not a number, return.</li>
          <li>Set |platform_version|["target_code"] to |json|["target_code"].</li>
        </ol>                 
    </section>
  </section>

  <section id="sec-permission-resources">
    <h2>MiniApp permission resources</h2>
    <p>
      A <dfn data-lt="permission resource|MiniApp permission resources|MiniApp permission resource's">MiniApp permission resource</dfn> is an [=ordered map=] that describes a request for using a concrete system feature (e.g., access to device's location, user contacts, sensors, and camera) required for the proper execution of a MiniApp.
    </p>
    <p>
      The following members are defined under the scope of the [=MiniApp manifest=], addressing specific aspects of a [=permission resource=].
    </p>
    <section id="permission-name">
      <h3><code>name</code> member</h3>
      <p>
        The [=MiniApp permission resource's=] <dfn data-dfn-for="MiniApp permission resource"><code>name</code></dfn> member is a [=string=] that indicates the name of the feature requested.
      </p>
      <p>
        To <dfn>process the permission resource's <code>name</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |permission:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["name"] does not [=map/exist=], or<br/> 
            if |json|["name"] is not a [=string=], or if |json|["name"] is the empty string, return.</li>
        <li>Set |permission|["name"] to |json|["name"].</li>
      </ol>          
    </section>
    <section>
      <h3><code>reason</code> member</h3>
      <p>
        The optional [=MiniApp permission resource's=] <dfn><code>reason</code></dfn> member is a [=string=] that indicates the reason given to request the feature specified in the <a data-link-type="dfn" data-link-for="MiniApp permission resource"><code>name</code></a> attribute.
      </p>
      <p>
        To <dfn>process the permission resource's <code>reason</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |permission:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["reason"] does not [=map/exist=], or<br/> 
          if |json|["reason"] is not a [=string=], or if |json|["reason"] is the empty string, return.</li>
        <li>Set |permission|["reason"] to |json|["reason"].</li>
      </ol>           
    </section>
  </section>



  <section id="sec-version-resources">
    <h2>MiniApp version resources</h2>
    <p>
      A <dfn data-lt="version resource|MiniApp version resources|MiniApp version resource's">MiniApp version resource</dfn> is an [=ordered map=] that describes the version code and version name of a MiniApp.
    </p>
    <p>
      The following members are defined under the scope of the [=MiniApp manifest=], addressing specific aspects of a [=version resource=].
    </p>
    <section>
      <h3><code>code</code> member</h3>
      <p>
        The [=MiniApp version resource's=] <dfn data-dfn-for="MiniApp version resource"><code>code</code></dfn> member is a non-negative integer number that represents the version of a MiniApp. It is mainly used for enhancing the maintainability and security of MiniApp (e.g., compatibility among incremental versions). The <a><code>code</code></a> member aims at supporting the development and deployment process, and it is not usually displayed to the end-user.
      </p>
      <p>
        To <dfn>process the version's <code>code</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |version:ordered map|:
      </p>
        <ol class="algorithm">
          <li>If |json|["code"] does not [=map/exist=], or if |json|["code"] is not a number, return failure.</li>
          <li>Let |version:number| be a number, initially 1.</li>
          <li>If |json|["code"] is greater than 0, then: <br/>
            Set |version| to |json|["code"].</li>
          <li>Set |version|["code"] to |version|.</li>
        </ol>           
    </section>
    <section id="version-name">
      <h3><code>name</code> member</h3>
      <p>
        The [=MiniApp version resource's=] <dfn data-dfn-for="MiniApp version resource"><code>name</code></dfn> member is a [=string=] mainly used for describing information on the version of a MiniApp, playing an essential role in version control, MiniApp application, and platform compatibility. It is usually considered as the version that is shown publicly and displayed to the user.
        </p>
        <p class="note" title='Usage'>
          The RECOMMENDED format for this member is <code>X.Y.Z</code>, where <code>X</code>, <code>Y</code>, and <code>Z</code> are non-negative integer values (e.g., <samp>1.10.0</samp>), as specified in <cite>Semantic Versioning</cite> [[SEMANTIC-VERSIONING]].
        </p>
        <p>
          To <dfn>process the version's <code>name</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |version:ordered map|:
        </p>
        <ol class="algorithm">
          <li>If |json|["name"] does not [=map/exist=], or if |json|["name"] is not a [=string=], return failure.</li>
          <li>Set |version|["name"] to |json|["name"].</li>
        </ol>           
    </section>	
  </section>

  <section id="sec-widget-resource-members">
    <h2>MiniApp widget resource members</h2>
    <p>
      A <dfn data-lt="widget resources|MiniApp widget resources|MiniApp widget resource's">MiniApp widget resource</dfn> is an [=ordered map=] that defines and configures a <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-widget">widget</a> that is part of a MiniApp.
    </p>
    <p>
      The following members are defined under the scope of the [=MiniApp manifest=], addressing specific aspects of a [=widget resource=].
    </p>      
    <section id="widget-name">
      <h2><code>name</code> member</h2>
      <p>
        The [=MiniApp widget resource's=] <dfn data-dfn-for="MiniApp widget resource"><code>name</code></dfn> member is a [=string=] that indicates the title of a widget.
      </p>
      <p>
        To <dfn>process the widget's <code>name</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |widget:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["name"] does not [=map/exist=], or if |json|["name"] is not a [=string=], return.</li>
        <li>Set |widget|["name"] to |json|["name"].</li>
      </ol>      
    </section>
    <section>
      <h3><code>path</code> member</h3>
      <p>
        The [=MiniApp widget resource's=] <dfn>path</dfn> member is a [=relative-url string=] that defines the corresponding  [=page route=] of a widget, represented as in the <a><code>pages</code></a> [=list=].
      </p>
      <p>
        To <dfn>process the widget's <code>path</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |widget:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["path"] does not [=map/exist=], or if |json|["path"] is not a [=string=], return.</li>
        <li>Let |url:URL| be the result of [=URL Parser|parsing=] |json|["path"].</li>
        <li>If |url| is failure, return.</li>
        <li>Set |widget|["path"] to |url|.</li>
      </ol>
    </section>
    <section id="widget-min-code">
      <h3><code>min_code</code> member</h3>
      <p>
        The optional [=MiniApp widget resource's=] <dfn data-dfn-for="MiniApp widget resource"><code>min_code</code></dfn> member is a number that indicates the minimum platform version supported for a <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-widget">MiniApp widget</a>.
      </p>
      <p class="note" title='Usage'>
        Since Widget APIs and MiniApp APIs may differ, the declaration of the minimum version of the platform may be different. Thus, if the widgets member omits <a data-link-for="MiniApp widget resource" data-link-type="dfn"><code>min_code</code></a> explicitly, the user agent will consider the same requirement as the specified in the <a data-link-for="MiniApp platform version resource" data-link-type="dfn"><code>min_code</code></a> member in the <a><code>platform_version</code></a> object.
        </p>
      </p>
      <p>
        To <dfn>process the widget's <code>min_code</code> member</dfn>, given [=ordered map=] |json:ordered map|, [=ordered map=] |widget:ordered map| and [=ordered map=] |manifest:ordered map|:
      </p>
      <ol class="algorithm">
        <li>Set |widget|["min_code"] to |manifest|["min_code"].</li>        
        <li>If |json|["min_code"] does not [=map/exist=], or if |json|["min_code"] is not a [=string=], return.</li>
        <li>Set |widget|["min_code"] to |json|["min_code"].</li>
      </ol>      
    </section>
  </section>

  <section id="sec-window-resource-members">
    <h2>MiniApp window resource members</h2>
    <p>
      A <dfn data-lt="window resource|MiniApp window resources|MiniApp window resource's">MiniApp window resource</dfn> is an [=ordered map=] that defines and configures the window that contains a MiniApp.
    </p>
    <p>
      The following members are defined under the scope of the [=MiniApp manifest=], enabling the description of a MiniApp [=window resource=].
    </p>
    <section>
      <h3><code>auto_design_width</code> member</h3>
      <p>
        The <dfn><code>auto_design_width</code></dfn> member is a [=boolean=] that indicates whether the <a><code>design_width</code></a> of the page is auto-calculated by the user agent. When <a><code>auto_design_width</code></a> is <code>true</code>, the value of <a><code>design_width</code></a> is ignored. In this case, the system's baseline width is automatically determined according to the pixel density of the screen.
      </p>
      <p>
        Value by default: <code>false</code>.
      </p>
      <p>
        To <dfn>process the window's <code>auto_design_width</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["auto_design_width"] does not [=map/exist=], or if |json|["auto_design_width"] is not a [=boolean=], return.</li>
        <li>Set |window|["auto_design_width"] to |json|["auto_design_width"].</li>
      </ol>       
    </section>
    <section data-cite="CSS-COLOR-4 CSS-SYNTAX-3 APPMANIFEST">
      <h3><code>background_color</code> member</h3>
      <p>
        The <dfn data-dfn-for="MiniApp window resource"><code>background_color</code></dfn> member is a [=string=] that specifies the background color of the window that contains a MiniApp.
      </p>
      <p>
        This member supports [=sRGB=] colors, and it is equivalent to the application manifest's <a href="https://www.w3.org/TR/appmanifest/#dfn-background_color" data-link-type="dfn"><code>background_color</code></a>.
      </p>
      <p>
        Value by default: <code>"#ffffff"</code>.
      </p>
      <p class="note" title="Processing the `background_color` member">
        When [=processing a MiniApp manifest=], the <a href="https://www.w3.org/TR/appmanifest/#dfn-process-a-color-member" data-link-type="dfn">process a color member</a> algorithm is used to process the window's <code>background_color</code> member, according to the [[APPMANIFEST]] specification.
      </p>      
    </section>
    <section data-cite="CSS-COLOR-4 MEDIAQUERIES-5">
      <h3><code>background_text_style</code> member</h3>
      <p>
        <span>The <dfn><code>background_text_style</code></dfn> member is a [=string=] that specifies the background text style, indicating a light or dark color theme.</span>
      </p>
      <p>
        This member supports the values of <a data-xref-type="css-descriptor" data-xref-for="@media">prefers-color-scheme</a> and MUST contain one of the following <dfn>background text style values</dfn>:  
      </p>
      <dl>
        <dt>"<dfn data-dfn-for="background text style values">light</dfn>"</dt>
        <dd>For light style.</dd>
        <dt>"<dfn data-dfn-for="background text style values">dark</dfn>" (default)</dt>
        <dd>For dark style.</dd>
      </dl>      
      <p>
        To <dfn>process the window's <code>background_text_style</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["background_text_style"] does not [=map/exist=], or<br/> 
          if |json|["background_text_style"] is not a [=string=], or<br/>
          if |json|["background_text_style"] doesn't [=list/contain=] one of the [=background text style values=], return.</li>
        <li>Set |window|["background_text_style"] to |json|["background_text_style"].</li>
      </ol>
    </section>
    <section>
      <h3><code>design_width</code> member</h3>
      <p>
        The <dfn><code>design_width</code></dfn> member is a number that indicates the baseline width of the page design in <a data-cite="css-values">pixel unit</a>. It is  used for visually adjusting the page components.
      </p>
      <p>
        The value is a non-negative integer and the value by default is <code>750</code>.
      </p>
      <p>
        To <dfn>process the window's <code>design_width</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["design_width"] does not [=map/exist=], or<br/>
          if |json|["design_width"] is not a number, or if |json|["design_width"] is less than 0, return.</li>
        <li>Set |window|["design_width"] to |json|["design_width"].</li>
      </ol>
    </section>
    <section>
      <h3><code>enable_pull_down_refresh</code> member</h3>
      <p>
        The <dfn><code>enable_pull_down_refresh</code></dfn> member is a [=boolean=] that specifies if the <code>pull-to-refresh</code> event is enabled during the interaction with the MiniApp.
      </p>
      <p>
        Value by default: <code>false</code>.
      </p>
      <p>
        To <dfn>process the window's <code>enable_pull_down_refresh</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["enable_pull_down_refresh"] does not [=map/exist=], <br/>
          or if |json|["enable_pull_down_refresh"] is not a [=boolean=], return.</li>
        <li>Set |window|["enable_pull_down_refresh"] to |json|["enable_pull_down_refresh"].</li>
      </ol>      
    </section>    
    <section>
      <h3><code>fullscreen</code> member</h3>
      <p>
        The <dfn><code>fullscreen</code></dfn> member is a [=boolean=] that indicates if the MiniApp is shown in full-screen display mode.
      </p>
      <p class="note" title='Usage'>
        When this member takes the <code>true</code> value, it is equivalent to the <a href="https://www.w3.org/TR/appmanifest/#dfn-fullscreen" data-link-type="dfn"><code>fullscreen</code> value on the application manifest's <a href="https://www.w3.org/TR/appmanifest/#dfn-display" data-link-type="dfn"><code>display</code></a> member. When it takes <code>false</code> as value, it is equivalent to <a href="https://www.w3.org/TR/appmanifest/#dfn-minimal-ui" data-link-type="dfn"><code>minimal-ui</code></a>.
      </p>
      <p>
        Value by default: <code>false</code>.
      </p>
      <p>
        To <dfn>process the window's <code>fullscreen</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["fullscreen"] does not [=map/exist=], <br/>
            or if |json|["fullscreen"] is not a [=boolean=], return.</li>
        <li>Set |window|["fullscreen"] to |json|["fullscreen"].</li>
      </ol>
    </section>
    <section data-cite="CSS-COLOR-4 CSS-SYNTAX-3">
      <h3><code>navigation_bar_background_color</code> member</h3>
      <p>
        <span>The <dfn><code>navigation_bar_background_color</code></dfn> member is a [=string=] that specifies the color of the background of the navigation bar of a MiniApp.</span>
      </p>
      <p>This member supports [=sRGB=] colors.</p>
      <p>Value by default: <code>"#000000"</code>.</p>
      <p>This member is processed according to the  specified in [[APPMANIFEST]].</p>
      <p class="note" title="Processing the `navigation_bar_background_color` member">
        When [=processing a MiniApp manifest=], the <a href="https://www.w3.org/TR/appmanifest/#dfn-process-a-color-member" data-link-type="dfn">process a color member</a> algorithm is used to process the window's <code>navigation_bar_background_color</code> member, according to the [[APPMANIFEST]] specification.
      </p>
    </section>
    <section>
      <h3><code>navigation_bar_text_style</code> member</h3>
      <p>
        <span>The <dfn><code>navigation_bar_text_style</code></dfn> member is a [=string=] that indicates the text color of the navigation bar title.</span>
      </p>
      <p>
        This member MUST contain one of the following <dfn>text style values</dfn>:  
      </p>
      <dl>
        <dt>"<dfn data-dfn-for="text style values">white</dfn>" (default)</dt>
        <dd>For white text color.</dd>
        <dt>"<dfn data-dfn-for="text style values">black</dfn>" </dt>
        <dd>For black text color.</dd>
      </dl>
      <p>
        To <dfn>process the window's <code>navigation_bar_text_style</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["navigation_bar_text_style"] does not [=map/exist=], or<br/> 
         if |json|["navigation_bar_text_style"] is not a [=string=], or<br/> 
         if |json|["navigation_bar_text_style"] doesn't [=list/contain=] one of the [=text style values=], return.</li>
        <li>Set |window|["navigation_bar_text_style"] to |json|["navigation_bar_text_style"].</li>
      </ol>      
    </section>
    <section>
      <h3><code>navigation_bar_title_text</code> member</h3>
      <p>
        The <dfn><code>navigation_bar_title_text</code></dfn> member is a [=string=] that specifies the title of the navigation bar of a MiniApp.
      </p>
      <p>
        To <dfn>process the window's <code>navigation_bar_title_text</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["navigation_bar_title_text"] does not [=map/exist=], or<br/> 
         if |json|["navigation_bar_title_text"] is not a [=string=], return.</li>
        <li>Set |window|["navigation_bar_title_text"] to |json|["navigation_bar_title_text"].</li>
      </ol>      
    </section>
    <section>
      <h3><code>navigation_style</code> member</h3>
      <p>
        The <dfn><code>navigation_style</code></dfn> member is a [=string=] that specifies the style of the navigation bar.
      </p>
      <p>
        This member MUST contain one of the following <dfn>navigation style values</dfn>: 
      </p>
      <dl>
        <dt>"<dfn data-dfn-for="navigation style values">default</dfn>" (default)</dt>
        <dd>For applying the style by default.</dd>
        <dt>"<dfn data-dfn-for="navigation style values">custom</dfn>"</dt>
        <dd>For applying a customized navigation bar.</dd>
      </dl>
      <p>
        To <dfn>process the window's <code>navigation_style</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["navigation_style"] does not [=map/exist=], or<br/> 
            if |json|["navigation_style"] is not a [=string=], or<br/>
            if |json|["navigation_style"] doesn't [=list/contain=] one of the [=navigation style values=], return.</li>
        <li>Set |window|["navigation_style"] to |json|["navigation_style"].</li>
      </ol>
      <p class="note" title='Usage'>
        The capsule button at the right corner is not customizable.
      </p>      
    </section>
    <section>
      <h3><code>on_reach_bottom_distance</code> member</h3>
      <p>
        The <dfn><code>on_reach_bottom_distance</code></dfn> member is a number that defines the vertical offset from the bottom of the window required to trigger a page pull-up event. Values for this member are non-negative integers expressed in <a data-cite="css-values">pixel unit</a>.
      </p>
      <p>
        Value by default: <code>50</code>.
      </p>
      <p>
        To <dfn>process the window's <code>on_reach_bottom_distance</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["on_reach_bottom_distance"] does not [=map/exist=], or<br/> 
          if |json|["on_reach_bottom_distance"] is not a number, or <br/>
          if |json|["on_reach_bottom_distance"] is less than 0, return.</li>
        <li>Set |window|["on_reach_bottom_distance"] to |json|["on_reach_bottom_distance"].</li>
      </ol>      
    </section>
    <section>
      <h3><code>orientation</code> member</h3>
      <p>
        The <dfn><code>orientation</code></dfn> member is a [=string=] that specifies the configuration of the screen orientation for the MiniApp. 
      </p>
      <p>
        This member supports the <dfn>orientation values</dfn>: <code>"portrait"</code> and <code>"landscape"</code> defined in {{OrientationLockType}} [[SCREEN-ORIENTATION]].
      </P>
      <p class="note" title='Usage'>
        This member is equivalent to the application manifest's <a href="https://www.w3.org/TR/appmanifest/#dfn-orientation" data-link-type="dfn"><code>orientation</code></a>.
      </p>
      <p>
        Value by default: <code>"portrait"</code>.
      </p>
      <p>
        To <dfn>process the window's <code>orientation</code> member</dfn>, given [=ordered map=] |json:ordered map| and [=ordered map=] |window:ordered map|:
      </p>
      <ol class="algorithm">
        <li>If |json|["orientation"] does not [=map/exist=], or<br/>
            if |json|["orientation"] is not a [=string=], or<br/>
            if |json|["orientation"] doesn't [=list/contain=] one of the [=orientation values=], return.</li>
        <li>Set |window|["orientation"] to |json|["orientation"].</li>
      </ol>
    </section>
  </section>

  <section id="sec-localizable-members">
    <h2>Localizable members</h2>
    <p>
        A <dfn data-lt="localizable members">localizable member</dfn> is a [=manifest=] member whose content may be adapted to specific linguistic, geographical, and cultural aspects. These localizable members share the <a href="https://www.w3.org/TR/appmanifest/#dfn-language-tag" data-link-type="dfn">language tag</a> (<a><code>lang</code></a>) and display direction (<a><code>dir</code></a>) defined at manifest's root.
    </p>
    <p>
      The following members are [=localizable members=]:
    </p>
    <ul>
        <li><a data-link-for="MiniApp manifest" data-link-type="dfn"><code>name</code></a></li>
        <li><a><code>short_name</code></a></li>
        <li><a><code>description</code></a></li>
        <li>[=MiniApp window resource's=] <a><code>navigation_bar_title_text</code></a></li>
        <li>[=MiniApp widget resource's=] <a data-link-for="MiniApp widget resource" data-link-type="dfn"><code>name</code></a></li>
    </ul>
  </section>

  <section>
    <h2>Dependencies</h2>
    <p>
      As a crucial part of a <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-package">MiniApp Package</a>, the <code>manifest.json</code> file describes several important aspects of a MiniApp by referring to the <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-package">MiniApp Package</a> resources in different file types, such as the page scripts and visual configuration files in the <code>pages</code> directory and the images in the <code>common</code> directory. Details are specified in [[MINIAPP-PACKAGING]].
    </p>
    <p>
      The regular operation of a MiniApp relies on the proper configuration in the [=manifest=] and the <a data-link-type="dfn" href="https://w3c.github.io/miniapp-packaging/#dfn-package">MiniApp Package</a> availability of resources. Such dependency needs to be checked during both the development phase and deployment phase.
    </p>
  </section>

  <section class="informative">
    <h2>Accessibility considerations</h2>
    <p>
      This document specifies a set of metadata, enabling developers and publishers to describe and configure the behavior and appearance of MiniApps. Some manifest attributes, like `color_scheme` and the `window` resource members, aim user agents to generate customized user interfaces to enable interaction between the user and the MiniApp.
    </p>
    <p>
      The <a><code>icons</code></a> member allows developers to describe the visual and iconic representation of a MiniApp in the platform and operating system. Here, the platform should adequately communicate with the platform accessibility services to represent the images, also using the alternative textual descriptions (e.g., <a><code>icon</code></a>'s <a href="https://www.w3.org/TR/image-resource/#dfn-label" data-link-type="dfn"><code>label</code></a>, <a data-link-for="MiniApp manifest" data-link-type="dfn"><code>name</code></a> and <a><code>short_name</code></a>) to enhance accessibility (i.e., icons in the home screen of the device, listing in app directories, and app configuration).
    </p>
    <p>
      User agents must ensure that the user interface is perceivable and operable, so they should take special consideration when processing the members that affect the user agent interface and the rendered content, like with the setup of color schemes and themes (i.e., <a><code>color_scheme</code></a>, <a data-link-for="MiniApp window resource" data-link-type="dfn"><code>background_color</code></a>, <a><code>background_text_style</code></a>, <a><code>navigation_bar_background_color</code></a>, <a><code>navigation_bar_background_color</code></a>, <a><code>navigation_bar_text_style</code></a>, and <a><code>navigation_style</code></a>) and other configuration settings like <a><code>orientation</code></a>, <a><code>fullscreen</code></a>, <a><code>enable_pull_down_refresh</code></a>, and <a><code>on_reach_bottom_distance</code></a>.
    </p>
    <p>
      The manifest's <a><code>window</code></a> member defines the appearance of the MiniApp, including the look and feel of the navigation bar and other features that modify the user agent's native UI, like <a><code>fullscreen</code></a> or <a><code>orientation</code></a>. User agents must offer intuitive mechanisms to close the apps, reverting the changes that affected the native UI. 
    </p>    
    <p>
      User agents interpreting this manifest should help users orient within and control windows and viewports. They should also provide alternative views addressing the different usage scenarios through the advanced use of the `device_type` member and extending the manifest with vendor-specific members to enhance accessibility. Thus, MiniApp user agents and platforms should provide mechanisms for configuring user stylesheets, themes and customize the display and interaction with the application, complying with the applicable specifications and conventions, in particular the [[[UAAG20]]].
    </p>
  </section>

  <section>
    <h2>Security considerations</h2>
    <p>
      The manifest data helps platforms to configure and process applications properly. The information exposed by the document is public, so third-party agents (e.g., app marketplaces and repositories) may use the manifest information to maintain app versions, classify, and list them.
    </p>
    <p>
      As the manifest is a JSON document and will commonly be encoded using [[UNICODE]], the security considerations described in [[JSON]] and [[UNICODE-SECURITY]] apply. In order to prevent developers from including custom/unrestrained data in a manifest, implementors may use a more strict schema than that defined in <a href="#sec-json-schema">JSON Schema</a> to impose their implementation-specific limits on the member names, types, and value ranges (e.g., to guard against memory overflow, or to meet platform-specific limitations).
    </p>
    <p> 
      The integrity of the MiniApp resources, including the manifest, is protected by a cryptographic hash mechanism as part of the whole <a data-link-type="dfn" href="https://www.w3.org/TR/miniapp-packaging/#dfn-package">MiniApp Package</a>, as detailed in [[MINIAPP-PACKAGING]].
    </p>
    <p>
      A MiniApp contains different file resources <a href="https://www.w3.org/TR/miniapp-packaging/#sec-filestructure">organized in directories</a> within a <a href="https://www.w3.org/TR/miniapp-packaging/#sec-miniapp-zip-container">container</a>. Manifest members like <a><code>icons</code></a>, <a><code>pages</code></a>, and <a><code>widgets</code></a> contain paths referring to local resources on the hosting platform. MiniApp user agents MUST guarantee the sandboxed environment, checking the validity of those paths to prevent illegal access out of a MiniApp <a data-link-type="dfn" href="https://www.w3.org/TR/miniapp-packaging/#dfn-package">package</a>.
    </p>
    <p>
      Developers may access external MiniApp data resources (i.e., not included in the main package) on the hosting platform (e.g., deep-links to other applications and shared storages) or remote HTTP servers. In the former case, the MiniApp user agent should implement all the required mechanisms to guarantee the sandboxed environment on the platform.
    </p>
    <p>
      The <a><code>pages</code></a> member defines the routes of the components of a MiniApp, including a map of pages with a relative path referring to resources stored within the MiniApp container. User agents MUST ignore external URLs or paths that do not correspond to a valid resource in the MiniApp container.  
    </p>
    <p>
      The manifest specifies the features that could be requested during the operation of a MiniApp, involving access to sensors and communication with other devices, both via network connections and via direct connection to the device (e.g., via Bluetooth, NFC, or USB). The declaration does not imply the access and use of the feature. However, user agents MUST implement mechanisms to guarantee the correct usage of services and APIs and address the potential vulnerabilities in each concrete feature.
    </p>    
  </section>

  <section>
    <h2>Privacy considerations</h2>
    <p>
      This specification does not directly deal with sensitive data. However, the information defined in a MiniApp manifest helps the platform configure its privacy policies to let a MiniApp manage other devices' hardware, software, and data resources that could affect privacy.
    </p>
    <p>
      The MiniApp manifest does not motivate collecting, using, or disclosing personal data. However, MiniApp user agents MUST control the access to sensitive device's services and features that could contribute to fingerprinting. User's behavioral patterns in permission management, along with the device's specific constraints (i.e., MiniApps for automotive, IoT, and SmartTVs), could allow users to be fingerprinted. For this reason, MiniApp user agents MUST control the access to the device's resources and preserve the sandboxed environment, protecting the access to sensitive resources, such as device sensors, external software, and personal data, with no disclosure of user's preferences. 
    </p> 
    <p>
      Through the manifest's <a><code>req_permissions</code></a> member, developers declare the requirements of a MiniApp to access privacy-related sensitive and high-level privileged resources. This member allows the platform to understand the specific restricted resources the MiniApp may request (<a data-link-for="MiniApp permission resource" data-link-type="dfn"><code>name</code></a> member), informing the user about the potential consequences and granting (or keeping blocked) access to these resources. Developers SHOULD use the <a><code>reason</code></a> member to state the clear and easy-to-understand rationale for requesting these advanced resources. 
    </p>
    <p>
      User agents MUST manage the user's preferences, including the explicit permissions the user shall grant to use sensitive system's features (e.g., geolocation and device's sensors). The user agent SHOULD implement mechanisms to remember their preferences, and the end-user SHALL explicitly decide if this information is stored across sessions. No other information related to the manifest should persist across sessions.
    </p>
    <p>
      As in Web applications, MiniApps can be installed using UI dialogs. In the installation process, the user agent SHOULD display clear information about the app (i.e., <a><code>app_id</code></a>, <a data-link-for="MiniApp manifest" data-link-type="dfn"><code>name</code></a>, <a><code>short_name</code></a>, <a>icons</a>, <a><code>name</code></a>, <a><code>description</code></a>). This transparent information allows end-users to make a conscious decision before installing it.
    </p>
    <p>
      User agents SHOULD provide a mechanism to remove an installed MiniApp.  It is RECOMMENDED that at the time of removal, the user agent also presents the user with an opportunity to revoke other persistent data and settings associated with the application, such as permissions and persistent storage.
    </p>
  </section>

  <section class="appendix" id="conformance">
    <p>
      This specification uses the Augmented Backus-Naur Form (ABNF) as defined in [[!RFC5234]].
    </p>
    <p>
        The MiniApp Manifest specification depends on the Infra Standard [[INFRA]] to describe algorithms.
    </p>      
  </section>

  <section class="appendix" id="sec-json-schema">
      <h2>
          <span>JSON Schema</span>
      </h2>
      <p>
        Developers interested in validating the MiniApp manifest document can use the JSON Schema defined at <a href="https://w3c.github.io/miniapp-manifest/manifest_schema.json">https://w3c.github.io/miniapp-manifest/manifest_schema.json</a>.
      </p>
      <aside class="note" title="MiniApp Manifest JSON Schema">
        <details>
          <summary>
            Click to load the schema.
          </summary>
          <pre class="json" data-include= "https://w3c.github.io/miniapp-manifest/manifest_schema.json"></pre>
        </details>
      </aside>
  </section>

  <section class="appendix informative">
    <h2>Acknowledgements</h2>
    <div class="ednote">
      To include contributors here!
    </div>
  </section>

  <section class="appendix informative">
    <h2>
      <span>Extensibility</span>
    </h2>
    <p>
      This specification is based on the [=application manifest=] <a href="https://www.w3.org/TR/appmanifest/#extensibility">extensibility principle</a>. 
    </p>
    <p>
      Although proprietary extensions are undesirable, they may be included as a manifest extension. In this case, it is RECOMMENDED to use vendor prefixes for the new members.
    </p>
    <p>
      We encourage implementors to add proprietary extensions to the Extensions Registry. This allows the community to track what extensions vendors and/or the web community have defined and documented.
    </p>
    <p class="issue" data-number="9">
    </p>
    <p>
      The following is an example of three hypothetical vendor extensions.
    </p>
    <pre class="example json" title="Proprietary extensions">
      {
        ...
        "wechat_new_feature": "foo",
        "ali_new_url_system": "http://example.org",
        "coolminiapp_menu_color": "#FA0000"
        ...
      }
    </pre>
  </section>
</body>
</html>
